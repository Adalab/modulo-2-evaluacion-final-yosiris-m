"use strict";const inputName=document.querySelector(".js-inputName"),btnSearch=document.querySelector(".js-btnSearch"),btnDelete=document.querySelector(".js-deleteFavorites"),showList=document.querySelector(".js-showList"),showFavList=document.querySelector(".js-favorites"),localFavorites=localStorage.getItem("favorites");let favorites;function onBtnSearchClick(){fetch("http://api.tvmaze.com/search/shows?q="+inputName.value).then(e=>e.json()).then(e=>{clearShowList(),printShowList(e)})}function printShowList(e){for(const t of e){const e=document.createElement("li");showList.appendChild(e);const o=document.createElement("p");o.innerText=t.show.name,e.className="item";const n=document.createElement("img");null===t.show.image?n.src="https://via.placeholder.com/210x295/ffffff/666666/?text="+t.show.name:n.src=t.show.image.medium,e.appendChild(n),e.appendChild(o),e.addEventListener("click",(function(){favorites.push(t),localStorage.setItem("favorites",JSON.stringify(favorites)),e.className="itemFav",printFavorite(t)}))}}function clearShowList(){showList.innerHTML=""}favorites=null===localFavorites?[]:JSON.parse(localFavorites),btnSearch.addEventListener("click",onBtnSearchClick);for(const e of favorites)printFavorite(e);function printFavorite(e){const t=document.createElement("li"),o=document.createElement("p");o.innerText=e.show.name;const n=document.createElement("img");n.className="favListItemImg",null===e.show.image?n.src="https://via.placeholder.com/210x295/ffffff/666666/?text="+e.show.name:n.src=e.show.image.medium,showFavList.appendChild(t),t.appendChild(n),t.appendChild(o);const i=document.createElement("button");i.innerText="Delete",t.appendChild(i),i.addEventListener("click",(function(){t.remove(),favorites=favorites.filter((function(t){return t.show.id!==e.show.id})),localStorage.setItem("favorites",JSON.stringify(favorites)),console.log(favorites)})),btnDelete.addEventListener("click",(function(e){t.remove(),i.remove(e)}))}
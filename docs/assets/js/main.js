"use strict";const showList=document.querySelector(".js-showList"),showFavList=document.querySelector(".js-favorites");let favorites=getFavorites();function printShowList(e){clearShowList();for(const t of e){const e=document.createElement("div");showList.appendChild(e);const o=document.createTextNode(t.show.name);e.className="itemCommon item";const s=document.createElement("img");if(s.className="imgSearch",null===t.show.image?s.src="https://via.placeholder.com/210x295/ffffff/666666/?text="+t.show.name:s.src=t.show.image.medium,e.appendChild(s),e.appendChild(o),favorites.find(e=>e.show.id===t.show.id)){e.className+=" itemFav";const t=document.createElement("i");t.className="fas fa-heart",e.appendChild(t)}e.addEventListener("click",(function(){favorites.find(e=>t.show.id===e.show.id)||(favorites.push(t),saveFavorites(),e.className="itemCommon itemFav",printFavorite(t))}))}}function clearShowList(){showList.innerHTML=""}const inputName=document.querySelector(".js-inputName"),form=document.querySelector(".js-form");function onFormSubmit(e){e.preventDefault(),fetch("//api.tvmaze.com/search/shows?q="+inputName.value).then(e=>e.json()).then(e=>{printShowList(e)})}form.addEventListener("submit",onFormSubmit);const btnDelete=document.querySelector(".js-deleteFavorites");function printFavorite(e){const t=document.createElement("div");t.className="favBox";const o=document.createElement("p");o.innerText=e.show.name,o.className="titleFav titleButton";const s=document.createElement("img");s.className="favListItemImg",null===e.show.image?s.src="https://via.placeholder.com/210x295/ffffff/666666/?text="+e.show.name:s.src=e.show.image.medium,showFavList.appendChild(t),t.appendChild(s),t.appendChild(o);const i=document.createElement("div");i.className="buttonFav",i.innerHTML='<i class="far fa-trash-alt"></i> Eliminar',t.appendChild(i);const a=()=>{t.remove(),favorites=favorites.filter((function(t){return t.show.id!==e.show.id})),saveFavorites()};i.addEventListener("click",a),btnDelete.addEventListener("click",a)}for(const e of favorites)printFavorite(e);function getFavorites(){const e=localStorage.getItem("favorites");let t;return t=null===e?[]:JSON.parse(e),t}function saveFavorites(){localStorage.setItem("favorites",JSON.stringify(favorites))}
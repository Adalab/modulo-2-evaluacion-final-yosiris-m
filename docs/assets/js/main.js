"use strict";const inputName=document.querySelector(".js-inputName"),btnSearch=document.querySelector(".js-btnSearch"),btnDeleteFav=document.querySelector(".js-deleteFavorites"),tvSeriesList=document.querySelector(".js-tvSeriesList"),tvSeriesFavList=document.querySelector(".js-favorites"),localFavorites=localStorage.getItem("favorites");let favorites;function onBtnSearchClick(){fetch("http://api.tvmaze.com/search/shows?q="+inputName.value).then(e=>e.json()).then(e=>{clearTvSeriesList(),printTvSeriesList(e)})}function printTvSeriesList(e){for(const t of e){const e=document.createElement("li");tvSeriesList.appendChild(e);const s=document.createElement("p");s.innerText=t.show.name,e.className="item";const i=document.createElement("img");null===t.show.image?i.src="https://via.placeholder.com/210x295/ffffff/666666/?text="+t.show.name:i.src=t.show.image.medium,e.appendChild(i),e.appendChild(s),e.addEventListener("click",(function(){const s=document.createElement("li"),i=document.createElement("p");i.innerText=t.show.name,e.className="itemFav",favorites.push(t),localStorage.setItem("favorites",JSON.stringify(favorites));const n=document.createElement("img");n.className="favListItemImg",null===t.show.image?n.src="https://via.placeholder.com/210x295/ffffff/666666/?text="+t.show.name:n.src=t.show.image.medium,tvSeriesFavList.appendChild(s),s.appendChild(n),s.appendChild(i)}))}}function clearTvSeriesList(){tvSeriesList.innerHTML=""}favorites=null===localFavorites?[]:JSON.parse(localFavorites),btnSearch.addEventListener("click",onBtnSearchClick);for(const e of favorites){const t=document.createElement("li"),s=document.createElement("p");s.innerText=e.show.name;const i=document.createElement("img");i.className="favListItemImg",null===e.show.image?i.src="https://via.placeholder.com/210x295/ffffff/666666/?text="+tvSeries.show.name:i.src=e.show.image.medium,tvSeriesFavList.appendChild(t),t.appendChild(i),t.appendChild(s)}
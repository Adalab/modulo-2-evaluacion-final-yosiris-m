"use strict";const inputName=document.querySelector(".js-inputName"),btnSearch=document.querySelector(".js-btnSearch"),btnDeleteFav=document.querySelector(".js-deleteFavorites"),tvSeriesList=document.querySelector(".js-tvSeriesList"),tvSeriesFavList=document.querySelector(".js-favorites"),localFavorites=localStorage.getItem("favorites");let favorites;function onBtnSearchClick(){fetch("http://api.tvmaze.com/search/shows?q="+inputName.value).then(e=>e.json()).then(e=>{clearTvSeriesList(),printTvSeriesList(e)})}function printTvSeriesList(e){for(const t of e){const e=document.createElement("li");tvSeriesList.appendChild(e);const n=document.createElement("p");n.innerText=t.show.name,e.className="item";const i=document.createElement("img");null===t.show.image?i.src="https://via.placeholder.com/210x295/ffffff/666666/?text="+t.show.name:i.src=t.show.image.medium,e.appendChild(i),e.appendChild(n),e.addEventListener("click",(function(){favorites.push(t),localStorage.setItem("favorites",JSON.stringify(favorites)),e.className="itemFav",printFavorite(t)}))}}function clearTvSeriesList(){tvSeriesList.innerHTML=""}favorites=null===localFavorites?[]:JSON.parse(localFavorites),btnSearch.addEventListener("click",onBtnSearchClick);for(const e of favorites)printFavorite(e);function printFavorite(e){const t=document.createElement("li"),n=document.createElement("p");n.innerText=e.show.name;const i=document.createElement("img");i.className="favListItemImg",null===e.show.image?i.src="https://via.placeholder.com/210x295/ffffff/666666/?text="+e.show.name:i.src=e.show.image.medium,tvSeriesFavList.appendChild(t),t.appendChild(i),t.appendChild(n);const s=document.createElement("button");s.innerText="Delete",console.log(s),t.appendChild(s),s.addEventListener("click",(function(){t.remove()}))}
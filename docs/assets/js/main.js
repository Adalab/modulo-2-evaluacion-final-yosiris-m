"use strict";const showList=document.querySelector(".js-showList"),showFavList=document.querySelector(".js-favorites");let favorites=getFavorites();function printShowList(e){clearShowList();for(const t of e){const e=document.createElement("div");showList.appendChild(e);const o=document.createTextNode(t.show.name);e.className="itemCommon item";const n=document.createElement("img");n.className="imgSearch",null===t.show.image?n.src="https://via.placeholder.com/210x295/ffffff/666666/?text="+t.show.name:n.src=t.show.image.medium,e.appendChild(n),e.appendChild(o),e.addEventListener("click",(function(){favorites.push(t),saveFavorites(),e.className="itemCommon itemFav",printFavorite(t)}))}}function clearShowList(){showList.innerHTML=""}const inputName=document.querySelector(".js-inputName"),form=document.querySelector(".js-form");function onFormSubmit(e){e.preventDefault(),fetch("//api.tvmaze.com/search/shows?q="+inputName.value).then(e=>e.json()).then(e=>{printShowList(e)})}form.addEventListener("submit",onFormSubmit);const btnDelete=document.querySelector(".js-deleteFavorites");function printFavorite(e){const t=document.createElement("div");t.className="titleBox ";const o=document.createElement("p");o.innerText=e.show.name,o.className="titleFav titleButton";const n=document.createElement("img");n.className="favListItemImg",null===e.show.image?n.src="https://via.placeholder.com/210x295/ffffff/666666/?text="+e.show.name:n.src=e.show.image.medium,showFavList.appendChild(t),t.appendChild(n),t.appendChild(o);const s=document.createElement("button");s.className="buttonFav titleButton",s.innerText="x",t.appendChild(s);const i=()=>{t.remove(),favorites=favorites.filter((function(t){return t.show.id!==e.show.id})),saveFavorites()};s.addEventListener("click",i),btnDelete.addEventListener("click",i)}for(const e of favorites)printFavorite(e);function getFavorites(){const e=localStorage.getItem("favorites");let t;return t=null===e?[]:JSON.parse(e),t}function saveFavorites(){localStorage.setItem("favorites",JSON.stringify(favorites))}